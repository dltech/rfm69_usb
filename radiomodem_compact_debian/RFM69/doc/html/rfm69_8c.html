<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.8"/>
<title>RFM69: Файл rfm69.c</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">RFM69
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Создано системой Doxygen 1.8.8 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Поиск');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Титульная&#160;страница</span></a></li>
      <li class="current"><a href="files.html"><span>Файлы</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Поиск" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>Файлы</span></a></li>
      <li><a href="globals.html"><span>Список&#160;членов&#160;всех&#160;файлов</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>Указатель</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Файлы</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Функции</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Переменные</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Элементы перечислений</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Макросы</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#func-members">Функции</a> &#124;
<a href="#var-members">Переменные</a>  </div>
  <div class="headertitle">
<div class="title">Файл rfm69.c</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &quot;stm32f10x_conf.h&quot;</code><br />
<code>#include &quot;<a class="el" href="rfm69_8h_source.html">rfm69.h</a>&quot;</code><br />
</div><div class="textblock"><div class="dynheader">
Граф включаемых заголовочных файлов для rfm69.c:</div>
<div class="dyncontent">
<div class="center"><img src="rfm69_8c__incl.png" border="0" usemap="#rfm69_8c" alt=""/></div>
<map name="rfm69_8c" id="rfm69_8c">
<area shape="rect" id="node3" href="rfm69_8h.html" title="В этом файле содержатся настройки радиомодуля, некоторые макросы для конфигурации микроконтроллера и ..." alt="" coords="157,80,223,107"/></map>
</div>
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Функции</h2></td></tr>
<tr class="memitem:ab5a1d9e9c8ef50e0cb9ddb5745a20a14"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rfm69_8c.html#ab5a1d9e9c8ef50e0cb9ddb5745a20a14">EXTI2_IRQHandler</a> (void)</td></tr>
<tr class="separator:ab5a1d9e9c8ef50e0cb9ddb5745a20a14"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a49cfdd46eb8d0ef3e1987514aa9343dc"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rfm69_8c.html#a49cfdd46eb8d0ef3e1987514aa9343dc">EXTI1_IRQHandler</a> (void)</td></tr>
<tr class="separator:a49cfdd46eb8d0ef3e1987514aa9343dc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a17e9789a29a87d2df54f12b94dd1a0b6"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rfm69_8c.html#a17e9789a29a87d2df54f12b94dd1a0b6">EXTI0_IRQHandler</a> (void)</td></tr>
<tr class="separator:a17e9789a29a87d2df54f12b94dd1a0b6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a38ad4725462bdc5e86c4ead4f04b9fc2"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rfm69_8c.html#a38ad4725462bdc5e86c4ead4f04b9fc2">TIM2_IRQHandler</a> (void)</td></tr>
<tr class="separator:a38ad4725462bdc5e86c4ead4f04b9fc2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a14af22393b087d109032f1cf718def90"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rfm69_8c.html#a14af22393b087d109032f1cf718def90">rfm69_write</a> (uint8_t address, uint8_t data)</td></tr>
<tr class="separator:a14af22393b087d109032f1cf718def90"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad2ff4e053c9b555d2192ba3f9af9f5f9"><td class="memItemLeft" align="right" valign="top">uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rfm69_8c.html#ad2ff4e053c9b555d2192ba3f9af9f5f9">rfm69_read</a> (uint8_t address)</td></tr>
<tr class="separator:ad2ff4e053c9b555d2192ba3f9af9f5f9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af8adfd3a25fb7fd945fe54b25584f391"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rfm69_8c.html#af8adfd3a25fb7fd945fe54b25584f391">rfm69_write_burst</a> (uint8_t address, uint8_t *data, uint8_t ndata)</td></tr>
<tr class="separator:af8adfd3a25fb7fd945fe54b25584f391"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaf29915020979cbcb1543723e0d1ad09"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rfm69_8c.html#aaf29915020979cbcb1543723e0d1ad09">rfm69_read_burst</a> (uint8_t address, uint8_t *data, uint8_t ndata)</td></tr>
<tr class="separator:aaf29915020979cbcb1543723e0d1ad09"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afc18010357577c61751d565f276ec047"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rfm69_8c.html#afc18010357577c61751d565f276ec047">rfm69_mcu_init</a> (void)</td></tr>
<tr class="separator:afc18010357577c61751d565f276ec047"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afc9264ee91effa67d4c368944cd2f8a3"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rfm69_8c.html#afc9264ee91effa67d4c368944cd2f8a3">rfm69_init</a> (void)</td></tr>
<tr class="separator:afc9264ee91effa67d4c368944cd2f8a3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3141c4360d11844a68888053a7173c2a"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rfm69_8c.html#a3141c4360d11844a68888053a7173c2a">rfm69_transmit_start</a> (uint8_t packet_size_loc, uint8_t address)</td></tr>
<tr class="separator:a3141c4360d11844a68888053a7173c2a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3c042a6544571244615b711a6e7550c7"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rfm69_8c.html#a3c042a6544571244615b711a6e7550c7">rfm69_receive_start</a> (void)</td></tr>
<tr class="separator:a3c042a6544571244615b711a6e7550c7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac20aaa7a3c508b5086719841909aa059"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rfm69_8c.html#ac20aaa7a3c508b5086719841909aa059">rfm69_receive_small_packet</a> (void)</td></tr>
<tr class="separator:ac20aaa7a3c508b5086719841909aa059"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a91f032713bffeee705aeff45e4e8ecbc"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rfm69_8c.html#a91f032713bffeee705aeff45e4e8ecbc">rfm69_sleep</a> (void)</td></tr>
<tr class="separator:a91f032713bffeee705aeff45e4e8ecbc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a76b7b034cdcbc1d12611ad48a3cfe623"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rfm69_8c.html#a76b7b034cdcbc1d12611ad48a3cfe623">rfm69_stby</a> (void)</td></tr>
<tr class="separator:a76b7b034cdcbc1d12611ad48a3cfe623"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a676f160363c34f0bf2638dded13638d7"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rfm69_8c.html#a676f160363c34f0bf2638dded13638d7">rfm69_clear_fifo</a> (void)</td></tr>
<tr class="separator:a676f160363c34f0bf2638dded13638d7"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Переменные</h2></td></tr>
<tr class="memitem:a1b13c9016be35fac29e6d4ed95785a74"><td class="memItemLeft" align="right" valign="top">uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rfm69_8c.html#a1b13c9016be35fac29e6d4ed95785a74">packet_buffer</a> [RFM69_BUFFER_SIZE-2]</td></tr>
<tr class="separator:a1b13c9016be35fac29e6d4ed95785a74"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7f29a961561c7582c38f9a09d859f0a3"><td class="memItemLeft" align="right" valign="top">uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rfm69_8c.html#a7f29a961561c7582c38f9a09d859f0a3">rfm69_condition</a></td></tr>
<tr class="separator:a7f29a961561c7582c38f9a09d859f0a3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aee3ef59ff651fe7e6a9c273affdd5d5a"><td class="memItemLeft" align="right" valign="top">uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rfm69_8c.html#aee3ef59ff651fe7e6a9c273affdd5d5a">packet_size</a></td></tr>
<tr class="separator:aee3ef59ff651fe7e6a9c273affdd5d5a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a73cc4d50c6a22bbf6aa7481ebd4f8e91"><td class="memItemLeft" align="right" valign="top">uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rfm69_8c.html#a73cc4d50c6a22bbf6aa7481ebd4f8e91">internal_packet_buffer</a> [64]</td></tr>
<tr class="separator:a73cc4d50c6a22bbf6aa7481ebd4f8e91"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6c93468e672fcac11316905595027087"><td class="memItemLeft" align="right" valign="top">uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rfm69_8c.html#a6c93468e672fcac11316905595027087">internal_pack_size</a></td></tr>
<tr class="separator:a6c93468e672fcac11316905595027087"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Функции</h2>
<a class="anchor" id="ab5a1d9e9c8ef50e0cb9ddb5745a20a14"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void EXTI2_IRQHandler </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Обработчик внешнего прерывания. Запускается либо после успешной передачи, либо после успешного приема пакета. </p>

</div>
</div>
<a class="anchor" id="a49cfdd46eb8d0ef3e1987514aa9343dc"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void EXTI1_IRQHandler </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Обработчик внешнего прерывания. Запускается по событию переполнения FIFO, может применяться для приема пакетов размером &gt; 64 байт. В данном варианте программы не используется. </p>

</div>
</div>
<a class="anchor" id="a17e9789a29a87d2df54f12b94dd1a0b6"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void EXTI0_IRQHandler </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Обработчик внешнего прерывания. Запускается после превышения порогового значения RSSI при включенном приемнике. Здесь запускается событие, вызываемое через определенный промежуток времени. Оно должно будет убедиться в том что превысил порог полезный сигнал, а не шум или помеха. </p>

</div>
</div>
<a class="anchor" id="a38ad4725462bdc5e86c4ead4f04b9fc2"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void TIM2_IRQHandler </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Обработчик прерывания по таймеру. Запускается через некоторый промежуток времени после превышения порога RSSI. Данный проомежуток соответствует времени, необходимому для успешного распознавания пакета. Если время прошло, а пакет не найден, приемник перезапускается, в противном случае ничего не происходит. </p>

</div>
</div>
<a class="anchor" id="a14af22393b087d109032f1cf718def90"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void rfm69_write </td>
          <td>(</td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>address</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>data</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Запись регистра радиомодуля. Осуществляется по шине SPI. </p><dl class="params"><dt>Аргументы</dt><dd>
  <table class="params">
    <tr><td class="paramname">address</td><td>- адрес регистра </td></tr>
    <tr><td class="paramname">data</td><td>- данные, записываемые в регистр </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="ad2ff4e053c9b555d2192ba3f9af9f5f9"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint8_t rfm69_read </td>
          <td>(</td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>address</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Чтение регистра радиомодуля. Осуществляется по шине SPI. </p><dl class="params"><dt>Аргументы</dt><dd>
  <table class="params">
    <tr><td class="paramname">address</td><td>- адрес регистра </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Возвращает</dt><dd>данные, считанные из регистра </dd></dl>

</div>
</div>
<a class="anchor" id="af8adfd3a25fb7fd945fe54b25584f391"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void rfm69_write_burst </td>
          <td>(</td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>address</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t *&#160;</td>
          <td class="paramname"><em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>ndata</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Запись массива регистров, или запись массива в FIFO. Осуществляется по шине SPI. Работает плохо, использовать не рекомендуется. </p><dl class="params"><dt>Аргументы</dt><dd>
  <table class="params">
    <tr><td class="paramname">address</td><td>- начальный адрес </td></tr>
    <tr><td class="paramname">data</td><td>- указатель на массив даных </td></tr>
    <tr><td class="paramname">ndata</td><td>- количество данных в массиве </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="aaf29915020979cbcb1543723e0d1ad09"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void rfm69_read_burst </td>
          <td>(</td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>address</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t *&#160;</td>
          <td class="paramname"><em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>ndata</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Чтение массива регистров, или чтение массива из FIFO. Осуществляется по шине SPI. Работает плохо, использовать не рекомендуется. </p><dl class="params"><dt>Аргументы</dt><dd>
  <table class="params">
    <tr><td class="paramname">address</td><td>- начальный адрес </td></tr>
    <tr><td class="paramname">data</td><td>- указатель на массив даных </td></tr>
    <tr><td class="paramname">ndata</td><td>- количество данных в массиве </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="afc18010357577c61751d565f276ec047"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void rfm69_mcu_init </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Здесь осуществляется инициализация периферии микроконтроллера. А именно: включение тактирования периферии, конфигурация портов ввода-вывода, конфигурация SPI, таймера и настройка внешних прерываний. </p>

</div>
</div>
<a class="anchor" id="afc9264ee91effa67d4c368944cd2f8a3"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int rfm69_init </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Здесь осуществляется инициализация радиомодуля. Осуществляется путем передачи регистров, вычисленных при помощи макросов из <a class="el" href="rfm69_8h.html" title="В этом файле содержатся настройки радиомодуля, некоторые макросы для конфигурации микроконтроллера и ...">rfm69.h</a>, в радиомодуль. Для того чтобы начать работать с радиомодулем, достаточно запустить эту функцию. Также в ней проверяется интерфейс, если SPI не работает, переменной состояния радиомодуля присваивается значение RFM69_SPI_FAILED. </p><dl class="section return"><dt>Возвращает</dt><dd>отрицательное значение, если интерфейс SPI не работает, иначе ноль. </dd></dl>

</div>
</div>
<a class="anchor" id="a3141c4360d11844a68888053a7173c2a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int rfm69_transmit_start </td>
          <td>(</td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>packet_size_loc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>address</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Запуск передачи пакета. </p><dl class="params"><dt>Аргументы</dt><dd>
  <table class="params">
    <tr><td class="paramname">packet_size_loc</td><td>- размер передаваемого пакета </td></tr>
    <tr><td class="paramname">address</td><td>- адрес устройства, которому необходимо передать пакет При этом подразумевается что передаваемые данные должны находиться в глобальном массиве packet_buffer. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Возвращает</dt><dd>отрицательное значение, если размер пакета слишком большой, иначе ноль </dd></dl>

</div>
</div>
<a class="anchor" id="a3c042a6544571244615b711a6e7550c7"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void rfm69_receive_start </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Запуск приемника. </p>

</div>
</div>
<a class="anchor" id="ac20aaa7a3c508b5086719841909aa059"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int rfm69_receive_small_packet </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Функция осуществляет чтение принятого пакета. Данные считываются в глобальный массив packet_buffer. </p><dl class="section return"><dt>Возвращает</dt><dd>размер считанного пакета, а если размер пакета превышает размер буфера возвращает -1 </dd></dl>

</div>
</div>
<a class="anchor" id="a91f032713bffeee705aeff45e4e8ecbc"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void rfm69_sleep </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Переключает радиомодуль в спящий режим. </p>

</div>
</div>
<a class="anchor" id="a76b7b034cdcbc1d12611ad48a3cfe623"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void rfm69_stby </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Переключает радиомодуль в режим standby (режим ожидания). </p>

</div>
</div>
<a class="anchor" id="a676f160363c34f0bf2638dded13638d7"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void rfm69_clear_fifo </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Обнуляет буфер радиомодуля. </p>

</div>
</div>
<h2 class="groupheader">Переменные</h2>
<a class="anchor" id="a1b13c9016be35fac29e6d4ed95785a74"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint8_t packet_buffer[RFM69_BUFFER_SIZE-2]</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>буфер, в котором хранится пакет </p>

</div>
</div>
<a class="anchor" id="a7f29a961561c7582c38f9a09d859f0a3"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint8_t rfm69_condition</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>в ней хранится состояние радиомодуля на данный момент </p>

</div>
</div>
<a class="anchor" id="aee3ef59ff651fe7e6a9c273affdd5d5a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint8_t packet_size</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>размер пакета </p>

</div>
</div>
<a class="anchor" id="a73cc4d50c6a22bbf6aa7481ebd4f8e91"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint8_t internal_packet_buffer[64]</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a6c93468e672fcac11316905595027087"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint8_t internal_pack_size</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Документация по RFM69. Последние изменения: Вс 1 Фев 2015 01:42:44. Создано системой &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.8
</small></address>
</body>
</html>
